<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script src="./js/_Ajax.js"></script>

<script>
    async function P1() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve("P1成功了")
            }, 2000);
        })
    }

    async function P2() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve("P2成功了")
            }, 2000);
        })
    }

    async function P3() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve("P3成功了")
            }, 2000);
        })
    }




    //当我们只要调用了promise那么就会立即执行promise对象

    async function Alls() {

        //(1并发执行的第一种方式)
        //如果调用promise对象的时候使用了await就会自动的等待上一个promise执行完成才会执行下一个promise对象
        // 让promise先执行后再使用await处理结果
        let a = P1();
        let b = P2();

        //实现并发效果
        let p1value = await a;
        let p2value = await b;

        console.log(p1value, p2value); //P1成功了 P2成功了





        //(2)并发执行的第二种方式
        //使用promise.all实现多个promise执行
        let alls = await Promise.all([P1(), P2()]);
        console.log(alls); //['P1成功了', 'P2成功了']
    }
    Alls()



    //并发执行的作用是 
    //比如第一个promise对象与第二个对象没有关系就不需要等待他的完成我再去执行promise对象了
</script>